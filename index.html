<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" crossorigin="anonymous"/>
        <link href="https://fonts.googleapis.com/css?family=Montserrat:100,300,400|Open+Sans:300,400|Roboto:100,300,400" rel="stylesheet"/>        
        <link rel="stylesheet" href="https://printjs-4de6.kxcdn.com/print.min.css"/>
        <!--BOOTSTRAP CDN-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <link rel="shortcut icon" href="img/logo-head-small.png" type="image/png"/>
        <!--CUSTOM CSS-->
        <link rel="stylesheet" href="css/style.css"/>
        <!--BOOTSTRAP + JQUERY CDN-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" ></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!--CUSTOM JS-->
        <script src="js/main.js"></script>
        <script src="js/info.js"></script>
        <script src="js/calculos.js"></script>
        <script src="js/globals.js"></script>        
        <script src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js"></script>
        <title>Calculadora - AQS</title>
    </head>
    <body>
        <header class="header">
            <!--span Eco.AP Calculator-->
            <!--.logo--><span class="header-title">Calculadora - AQS</span>
            <!--<img src="img/logo.png" alt="logo" class="logo-img"/>-->
        </header>
        <main class="main container">
            <div class="row">
                <div class="col-md-12">
                    <div class="main-content">
                        <!--Dados-->
                        <div id="dados" style="display:block;" data-id="1" class="step">
                            <div class="dados-titulo"><span>Dados</span></div>
                            <div class="dados-child">
                                <div class="dado distrito">
                                    <label for="distrito">Distrito</label>
                                    <select id="distrito" name="distrito" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div class="dado latitude">
                                    <label for="latitude">Latitude (aprox.)</label>
                                    <input  id="distrito-latitude" type="number" placeholder="0°" class="form-control xInput"/>
                                </div>
                                <div class="dado sis-prod-aqs">
                                    <label for="sis-prod">Sistema de produção de AQS</label>
                                    <select id="sis-prod" name="sis-prod" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div class="dado rendimento">
                                    <label  id="labelRendimento" for="rend"></label>
                                    <select id="rend" name="rend" class="sel">
                                        <option value="">Seleccionar opção</option>
                                        <option value="0">Não conhece</option>
                                        <option value="2">Inserir rendimento</option>                    
                                    </select>
                                    <label id="labelIRendman" for="iRendMan" style="display:none;">Insira o rendimento</label>
                                    <input id="iRendMan" name="iRendMan" placeholder="" style="display:none;">
                                </div>
                                <div class="dado age">
                                    <label for="age">Idade (aprox.)</label>
                                    <select id="age" name="age" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div class="dado custo-unit">
                                    <label id="custo-unit-label" for="custo-unit">Custo energético unitário(€)</label>
                                    <input id="custo-unit-input" type="number" placeholder="0€" min="0" step="0.01" class="form-control xInput"/>
                                </div>
                                <div class="dado temp-requerida">
                                    <label for="temp-req">Temperatura (ºC) *</label>
                                    <input id="temp-req" type="number" placeholder="0°C" class="form-control xInput"/>
                                    <label style="font-size: 14px;padding-top:5px;">* Temperatura de acumulação/distribuição (sistema de produção) e não a temperatura à saída do ponto de consumo</label> 
                                </div>
                                <div class="dado conhecimento-consumo">
                                    <label for="conhece-consumo">Conhece os consumos anuais de energia para AQS?</label>
                                    <select id="conhece-consumo" name="conhece-consumo" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                            </div>

                        </div>
                        <div id="perfil-aqs" data-id="2" class="step">
                            <div class="dados-titulo"><span>Perfil AQS</span></div>
                            <div class="dados-child">
                                <div class="tabela-diaria">
                                    <table id="water-usage" class="table table-bordered">
                                        <tbody>
                                            <tr class="titulo_row">
                                                <th colspan="3" class="tituloTH">Utilização diária de águas quentes sanitárias (média representativa do período de maior consumo)</th>
                                                <th class="tituloTH">&nbsp</th>
                                            </tr>
                                            <tr id="copy-row" class="textTR">
                                                <td class="select-cell">
                                                    <select id="tipo-consumo" name="tipo-consumo[]">
                                                        <option value="">Seleccionar opção</option>
                                                    </select>
                                                </td>
                                                <td class="in" id="desctipoconsumo">auto</td>
                                                <td class="in">
                                                    <input id="tipoconsumoval" name="tipoconsumoval[]" type="number" placeholder="0" class="form-control xInput"/>
                                                </td>
                                                <td class="in" id="removetipoconsumo">
                                                    <button id="remove" type="button" class="but-dados">Remover</button>
                                                </td>
                                            </tr>
                                            <tr class="textTR">
                                                <td colspan="3" class="in"></td>
                                                <td class="in"> 
                                                    <button id="add" type="button" class="but-dados">Adicionar</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="dado perfil-mensal">
                                    <label for="perfil-mensal">Perfil de utilização mensal</label>
                                    <select id="perfil-mensal" name="perfil-mensal" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div id="def-perfil-mensal" class="tabelas" style="display:none;">
                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr class="titulo_row">
                                                <th class="tituloTH">Jan</th>
                                                <th class="tituloTH">Fev</th>
                                                <th class="tituloTH">Mar</th>
                                                <th class="tituloTH">Abr</th>
                                                <th class="tituloTH">Mai</th>
                                                <th class="tituloTH">Jun</th>
                                                <th class="tituloTH">Jul</th>
                                                <th class="tituloTH">Ago</th>
                                                <th class="tituloTH">Set</th>
                                                <th class="tituloTH">Out</th>
                                                <th class="tituloTH">Nov</th>
                                                <th class="tituloTH">Dez</th>
                                            </tr>
                                            <tr class="textTR">
                                                <td class="input-table">
                                                    <input id="perfil-mensal-input1" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input2" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input3" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input4" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input5" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input6" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input7" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input8" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input9" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input10" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input11" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-mensal-input12" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="dado perfil-semanal">
                                    <label for="perfil-semanal">Perfil de utilização semanal</label>
                                    <select id="perfil-semanal" name="perfil-semanal" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div id="def-perfil-semanal" class="tabelas" style="display:none;">
                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr class="titulo_row">
                                                <th class="tituloTH">Seg</th>
                                                <th class="tituloTH">Ter</th>
                                                <th class="tituloTH">Qua</th>
                                                <th class="tituloTH">Qui</th>
                                                <th class="tituloTH">Sex</th>
                                                <th class="tituloTH">Sáb</th>
                                                <th class="tituloTH">Dom</th>
                                            </tr>
                                            <tr class="textTR">
                                                <td class="in">
                                                    <input id="perfil-semanal-input1" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input2" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input3" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input4" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input5" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input6" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                                <td class="in">
                                                    <input id="perfil-semanal-input7" type="number" placeholder="0%" class="form-control xInput"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="consumos" data-id="3" class="step">
                            <div class="dados-titulo"><span>Consumos</span></div>
                            <div class="dados-child">
                                <div class="tabelas">
                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr class="textTR">
                                                <td class="in">Consumos de energia disponíveis</td>
                                                <td class="select-cell">
                                                    <select id="consumo-energia" name="consumo-energia">
                                                        <option value="">Seleccionar opção</option>
                                                    </select>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div id="tabela-consumo" class="tabelas"></div>
                            </div>

                        </div>
                        <div id="medidas" data-id="4" class="step">
                            <div class="dados-titulo"><span>Medidas</span></div>
                            <div class="dados-child">
                                <div class="dado nova-fonte">
                                    <label for="nova-fonte">Nova fonte de produção de AQS</label>
                                    <select id="nova-fonte" name="nova-fonte" class="sel">
                                        <option value="">Seleccionar opção</option>
                                    </select>
                                </div>
                                <div class="dado rendimento-medidas">
                                    <label id="rendimento-medidas-label" for="rendimento-medidas">Rendimento (%) / COP</label>
                                    <input id="rendimento-medidas" type="number" placeholder="0%" class="form-control xInput"/>
                                </div>
                                <div class="dado custo-unit-medidas">
                                    <label id="custo-unit-medidas-label" for="custo-unit-medidas">Custo energético unitário (€)</label>
                                    <input id="custo-unit-medidas" type="number" placeholder="0€" class="form-control xInput" step="0.01" min="0"/>
                                </div>
                                <div class="dado acoplar-solar">
                                    <label for="acoplar-solar">Acoplar solar térmico</label>
                                    <select id="acoplar-solar" name="acoplar-solar" class="sel">
                                        <option value="">Seleccionar opção</option>
                                        <option value="0">Sim</option>
                                        <option value="1">Não</option>
                                    </select>
                                </div>
                                <div id="tbl-acoplar-solar" class="tabelas" style="display:none;">
                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr class="textTR">
                                                <td rowspan="2" class="in">Orientação solar</td>
                                                <td class="select-cell">
                                                    <select id="orientacao-sel" name="orientacao-sel">
                                                        <option value="">Seleccionar opção</option>

                                                    </select>
                                                    <!--                                                    <label id="labelOtherOrientation" for="otherOrientation" style="display:none;">Insira a orientação</label>
                                                                                                        <input type="number" id="otherOrientation" name="otherOrientation" placeholder="Inserir número de graus" style="display:none;">-->
                                                </td>
                                            </tr>
                                            <tr class="textTR">
                                                <td class="input-table">
                                                    <input id="orientacao-solar" max="70" min="0" type="number" placeholder="Valor será introduzindo automaticamente" disabled="disabled" class="form-control xInput"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="resumo" data-id="5" class="step">
                            <div class="dados-titulo"><span>Resumo</span></div>
                            <div class="dados-child">
                                <p id="errorAQS" style="color: red;"></p>
                                <table class="table table-bordered">
                                    <tbody>
                                        <tr class="textTR">
                                            <td rowspan="2" class="in">Consumos e custos energéticos (cenário inicial)</td>
                                            <td class="center" id="consumoCI"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="center" id="custosCI"></td>
                                        </tr>
                                        <tr class="textTR solar-termico-results">
                                            <td class="in">Contributo do Solar Térmico</td>
                                            <td class="center" id="contributoSolarTermico"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td rowspan="2" class="in">Consumos e custos energéticos (cenário final - sistema de apoio)</td>
                                            <td class="center" id="consumosCF"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="center" id="custosCF"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td rowspan="2" class="in">Redução anual da fatura energética</td>
                                            <td class="center" id="reducaoValor"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="center" id="reducaoPercent"></td>
                                        </tr>
                                        <tr class="textTR solar-termico-results">
                                            <td class="in">N° de coletores solares</td>
                                            <td class="center" id="numeroColetores"></td>
                                        </tr>
                                        <tr class="textTR solar-termico-results">
                                            <td class="in">Área</td>
                                            <td class="center" id="areaColetores"></td>
                                        </tr>
                                        <tr class="textTR solar-termico-results">
                                            <td class="in">Volume dos depósitos de acumulação</td>
                                            <td class="center" id="vAcumulacao"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in">Investimento*</td>
                                            <td class="center" id="investimentoTotal"></td>
                                        </tr>
                                        <tr class="textTR solar-termico-results">
                                            <td class="in sub">Coletores</td>
                                            <td class="center sub-val" id="custosColectores"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in sub">Equipamento (tecnologia)</td>
                                            <td class="center sub-val" id="custosEquipamento"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in sub">Depósitos e acessórios</td>
                                            <td class="center sub-val" id="custosDepositos"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in sub">Instalação</td>
                                            <td class="center sub-val" id="custosInstalacao"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in">Custos anuais com operação e manutenção</td>
                                            <td class="center" id="custosOpManutencao"></td>
                                        </tr>
                                        <tr class="textTR">
                                            <td class="in">Período de retorno</td>
                                            <td class="center" id="periodoRetorno"></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="dado nota-acoplar"></div>
                                <div class="dado corrige-coletores">
                                    <label for="corrige-coletores">Corrigir n° de coletores</label>
                                    <input id="corrige-coletores" type="number" placeholder="0" class="form-control xInput"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="but-2 step-but">
                        <button type="button" onclick="prevStep()" class="but anterior">Anterior</button>
                        <button type="button" onclick="nextStep()" class="but seguinte">Próximo</button>
                    </div>
                    <div class="end-step step-but">
                        <button type="button" onclick="prevStep()" class="but anterior">Anterior</button>
                        <button id="analise-but" type="button" onclick="totalNecessidadesEnergiaFunction()" class="but end-but">Analisar</button>
                        <button id="reanalise-but" type="button" class="but reload-but" style="display:none;">Reanalisar</button>
                    </div>
                    <div class="end-step step-but">
                        <button id="reload-but" type="button" class="but reload-but" style="display:none;">Voltar ao início</button>
                    </div>
                    <div class="perfil-consumo">
                        <button type="button" onclick="prevStep()" class="but anterior">Anterior</button>
                        <button type="button" onclick="perfilConsumo()" class="but seguinte">Próximo</button>
                    </div>

                    <div class="print_pdf step-but">
                        <span class="print_text">Deseja imprimir?
                            <button type="button" onclick="printJS('resumo', 'html')" class="print_link">Clique aqui</button>
                        </span>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>